quitar boton actualizar de gestion de usuarios
crear pantallas con los mensajes emergentes en programar clases y alguna mas
comprobar que todos los csripts create coincide con la base de datos
revisar tablas porque iogual sobre campos o faltan
en el panel de administrador poner bien las estaditicas y la pantalla ver estadisticas
posibilidad de los horarios dispoibles gestionarlos como administrador
quitar lineas de debug
que el admin pueda elgir los ocupantes de la,clase y que dpor dewdfecto te aparezca los que salen en la tabla gym_clases
en muchas llamadas para evitar la cache hemos creado un timestump para generar urls disitntas
revisar tildes en frontend como en el deplegable de los planes
quitar clientepro de gestion de usuarios
en la tabla de asignacion cliente entrenador tengo que hacer operatiuva de desasignar
hacer bien la pantalla de gestion de asignsaciones entrenador cliente
en la pantalla panel de entrenador habra que modificar del cliente el texto de debajo
cuando registro actividad manualmente me klleva a la pantalla de agenda
los estados de la tabla de reservas no estan definidos
poner campos de las tablas castellano o todos ingles y lo mismo con el nombre de las tablas
verificar los inserts de poblacon como los timestamp que hay algubnos a mano y deberian ser automaticos
en algunas tablas mirar si el campo estado se usa para algo y si no se usa se quita
intentar quitar al editar y pasar de usuario a cliente los campos de tiempo
quitar mensajes de debuj al psar un usuario a cliente desde el admin
que un unstructor no se pueda tener clases a la misma hora el mismo dia, que cuando depliegues la hora te aparezca en rojo la hora que no se pueda
en registrar actividad que los ejercicios se agrupen por dias
eliminar funcion health
hay que eliminar la duracion de gym_clases o de clases_programadas yo diria de gym_clases y lo mismo con la capacidad maxima
quitar la ubicacion de la tabla clases_programadas
poner en la memoria que suamos correo para verificar
cambiar node.js de modo development a definitivo
quitar comentarios de la ia en distinto ficheros
en el script habra que crear el directorio del volumen del postgres, probar en otra maquina
quitar y no exponer puertos api frontend
pantalla asiganciones cambiar botones y cambiar la estetica
en el zip final dejar el env.local del docker y quitar los otros dos env.local t quitar la carpeta node_modules

[WARN] update_user: fallo al limpiar asignaciones por cambio de plan (acceso_entrenador): InvalidSavepointSpecification('savepoint "sp_cleanup_acceso" does not exist\n') - attempting rollback to savepoint

[ERROR] update_user: rollback to savepoint failed: InvalidSavepointSpecification('savepoint "sp_cleanup_acceso" does not exist\n') - performing full conn.rollback()




git clone https://github.com/izancelorrio/gym-infosys.git
cd gym-infosys
docker-compose --env-file .env.local.docker up --build





prerequisitos:
apt update
apt install docker.io -y
systemctl enable --now docker
curl -L "https://github.com/docker/compose/releases/download/v2.29.1/docker-compose-$(uname -s)-$(uname -m)" \
    -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose
sudo apt install unzip 
unzip gym-infosys
cd gym-infosys
docker-compose --env-file .env.local.docker up --build



-----------------------------------------------------------------------------------------------------------
services:
  postgres:
    image: postgres:17
    container_name: gym-postgres    
    restart: unless-stopped    
    environment:
      POSTGRES_USER: ${DB_USER}
      POSTGRES_PASSWORD: ${DB_PASS}
      POSTGRES_DB: ${DB_NAME}
    ports:      
      - "${DB_PORT}:${DB_PORT}"
    volumes:      
      - /srv/docker/postgres/data:/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U ${DB_USER} -d ${DB_NAME}"]
      interval: 10s
      timeout: 5s
      retries: 5

  api:
    build:
      context: ./API
      dockerfile: Dockerfile
    container_name: gym-api
    restart: unless-stopped
    environment:
      - DB_HOST=${DB_HOST}
      - DB_PORT=${DB_PORT}
      - DB_NAME=${DB_NAME}
      - DB_USER=${DB_USER}
      - DB_PASS=${DB_PASS}
      - SMTP_SERVER=${SMTP_SERVER}
      - SMTP_PORT=${SMTP_PORT}
      - SMTP_USER=${SMTP_USER}
      - SMTP_PASS=${SMTP_PASS}
      - FROM_EMAIL=${FROM_EMAIL}
    ports:
      - "8000:8000"
    depends_on:
      postgres:
        condition: service_healthy
    healthcheck:
      test: ["CMD-SHELL", "curl -f http://localhost:8000/health || exit 1"]
      interval: 10s
      timeout: 5s
      retries: 5

  frontend:
    build:
      context: .                # <--- porque el Dockerfile está en la RAÍZ
      dockerfile: Dockerfile    # <--- tu Dockerfile del frontend
      args:
        NEXT_PUBLIC_API_URL: ${NEXT_PUBLIC_API_URL}
    container_name: gym-frontend
    restart: unless-stopped    
    ports:
      - "3000:3000"
    depends_on:
      api:
        condition: service_healthy

  nginx:
    build:
      context: ./nginx
      dockerfile: Dockerfile
    container_name: gym-nginx
    restart: unless-stopped
    ports:
      - "8080:80"
    depends_on:
      - frontend

networks:
  default:
    name: gymnet

